<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gerador de Perfil Pessoal Detalhado</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .fade-in {
        animation: fadeIn 0.5s ease-in-out forwards;
      }
      .spinner {
        border: 4px solid rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        border-top: 4px solid #fff;
        width: 20px;
        height: 20px;
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body
    class="bg-gray-900 text-gray-300 flex items-center justify-center min-h-screen p-4 sm:p-6 lg:p-8"
  >
    <main
      class="w-full max-w-3xl bg-gray-800 rounded-2xl shadow-xl p-6 sm:p-8 lg:p-10 space-y-8 border border-gray-700"
    >
      <!-- Header -->
      <div class="text-center">
        <h1 class="text-3xl sm:text-4xl font-bold text-white">
          Gerador de Perfil Pessoal Detalhado
        </h1>
        <p class="mt-2 text-gray-400">
          Responda ao roteiro abaixo para criar um perfil completo. Isso me
          ajudar√° a personalizar as respostas para voc√™.
        </p>
      </div>

      <!-- AI Prefill Section -->
      <div
        class="form-section bg-gray-900/50 p-6 rounded-lg border border-gray-700"
      >
        <h2 class="text-xl font-semibold text-white">
          ‚ú® Preenchimento Inteligente
        </h2>
        <div class="space-y-4 mt-4">
          <div>
            <label
              for="ai-text-input"
              class="text-sm font-medium text-gray-400 mb-1"
              >Cole um texto sobre si aqui</label
            >
            <textarea
              id="ai-text-input"
              rows="4"
              class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
              placeholder="Ex: Chamo-me Jo√£o, tenho 35 anos e sou designer em Lisboa. Nos tempos livres, gosto de ler fic√ß√£o cient√≠fica e aprender a programar em Python..."
            ></textarea>
          </div>
          <div>
            <label
              for="api-key-input"
              class="text-sm font-medium text-gray-400 mb-1"
              >Sua Chave de API da Google AI</label
            >
            <input
              type="password"
              id="api-key-input"
              class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none"
              placeholder="Cole a sua chave de API aqui"
            />
            <p class="text-xs text-gray-500 mt-1">
              Para usar esta fun√ß√£o, precisa de uma chave.
              <a
                href="https://aistudio.google.com/app/apikey"
                target="_blank"
                class="text-amber-400 hover:underline"
                >Obtenha uma chave gratuita no Google AI Studio.</a
              >
            </p>
          </div>
          <div class="text-center">
            <button
              id="ai-prefill-btn"
              class="bg-purple-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-purple-700 focus:outline-none focus:ring-4 focus:ring-purple-500/50 transition-all duration-300 transform hover:scale-105 flex items-center justify-center mx-auto"
            >
              <span id="ai-btn-text">Preencher com IA</span>
              <div id="ai-btn-spinner" class="spinner hidden ml-3"></div>
            </button>
          </div>
          <p
            id="ai-error"
            class="text-red-400 text-center text-sm mt-2 hidden"
          ></p>
        </div>
      </div>

      <!-- Form Sections -->
      <div id="profile-form" class="space-y-10">
        <!-- Section 1: Dados Pessoais e Gerais -->
        <div
          class="form-section bg-gray-900/50 p-6 rounded-lg border border-gray-700"
        >
          <h2 class="text-xl font-semibold text-white">
            üßë‚Äçüíª Dados Pessoais e Gerais
          </h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
            <div>
              <label for="nome" class="text-sm font-medium text-gray-400 mb-1"
                >Nome (ou apelido)</label
              >
              <input
                type="text"
                id="nome"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: Jo√£o Silva"
              />
            </div>
            <div>
              <label for="idade" class="text-sm font-medium text-gray-400 mb-1"
                >Idade ou faixa et√°ria</label
              >
              <input
                type="text"
                id="idade"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: 30-40 anos"
              />
            </div>
            <div>
              <label for="pais" class="text-sm font-medium text-gray-400 mb-1"
                >Pa√≠s e regi√£o onde vive</label
              >
              <input
                type="text"
                id="pais"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: Lisboa, Portugal"
              />
            </div>
            <div>
              <label
                for="idiomas"
                class="text-sm font-medium text-gray-400 mb-1"
                >Idioma(s) de prefer√™ncia</label
              >
              <input
                type="text"
                id="idiomas"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: Portugu√™s, Ingl√™s"
              />
            </div>
          </div>
        </div>

        <!-- Section 2: Objetivos com a IA -->
        <div
          class="form-section bg-gray-900/50 p-6 rounded-lg border border-gray-700"
        >
          <h2 class="text-xl font-semibold text-white">
            üéØ Objetivos com a IA
          </h2>
          <div class="space-y-4 mt-4">
            <div>
              <label for="uso_ia" class="text-sm font-medium text-gray-400 mb-1"
                >Para que pretende usar a IA?</label
              >
              <textarea
                id="uso_ia"
                rows="3"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: Para brainstorming de ideias, automatizar tarefas repetitivas, aprender um novo idioma, gerar c√≥digo..."
              ></textarea>
            </div>
            <div>
              <label
                for="interesses_ia"
                class="text-sm font-medium text-gray-400 mb-1"
                >Principais √°reas de interesse</label
              >
              <textarea
                id="interesses_ia"
                rows="2"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: Finan√ßas, hist√≥ria da arte, ci√™ncia de dados, m√∫sica, marketing digital"
              ></textarea>
            </div>
            <div>
              <label
                for="limites_ia"
                class="text-sm font-medium text-gray-400 mb-1"
                >O que gostaria que a IA n√£o fizesse (limites ou temas a
                evitar)</label
              >
              <textarea
                id="limites_ia"
                rows="2"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: Evitar temas pol√≠ticos, n√£o dar conselhos m√©dicos, n√£o usar cal√£o"
              ></textarea>
            </div>
          </div>
        </div>

        <!-- Section 3: Forma√ß√£o e Conhecimentos -->
        <div
          class="form-section bg-gray-900/50 p-6 rounded-lg border border-gray-700"
        >
          <h2 class="text-xl font-semibold text-white">
            üìö Forma√ß√£o e Conhecimentos
          </h2>
          <div class="space-y-4 mt-4">
            <div>
              <label
                for="formacao"
                class="text-sm font-medium text-gray-400 mb-1"
                >Forma√ß√£o acad√©mica ou t√©cnica</label
              >
              <input
                type="text"
                id="formacao"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: Licenciatura em Design, autodidata em programa√ß√£o"
              />
            </div>
            <div>
              <label
                for="exp_tech"
                class="text-sm font-medium text-gray-400 mb-1"
                >N√≠vel de experi√™ncia em tecnologia</label
              >
              <input
                type="text"
                id="exp_tech"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: B√°sico, utilizador di√°rio, programador s√©nior"
              />
            </div>
            <div>
              <label
                for="aprender"
                class="text-sm font-medium text-gray-400 mb-1"
                >√Åreas em que gostaria de aprender mais</label
              >
              <textarea
                id="aprender"
                rows="2"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: Aprofundar conhecimentos em React, aprender sobre machine learning"
              ></textarea>
            </div>
          </div>
        </div>

        <!-- Section 4: Profiss√£o / Projetos -->
        <div
          class="form-section bg-gray-900/50 p-6 rounded-lg border border-gray-700"
        >
          <h2 class="text-xl font-semibold text-white">
            üíº Profiss√£o / Projetos
          </h2>
          <div class="space-y-4 mt-4">
            <div>
              <label
                for="profissao"
                class="text-sm font-medium text-gray-400 mb-1"
                >Profiss√£o atual ou atividade principal</label
              >
              <input
                type="text"
                id="profissao"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: Designer Gr√°fico, Estudante, Gestor de Projetos"
              />
            </div>
            <div>
              <label
                for="projetos"
                class="text-sm font-medium text-gray-400 mb-1"
                >Projetos pessoais ou profissionais em andamento</label
              >
              <textarea
                id="projetos"
                rows="2"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: Criar um portf√≥lio online, aprender uma nova framework, renovar a casa"
              ></textarea>
            </div>
            <div>
              <label
                for="ferramentas"
                class="text-sm font-medium text-gray-400 mb-1"
                >Ferramentas/tecnologias que usa regularmente</label
              >
              <textarea
                id="ferramentas"
                rows="2"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: Figma, Notion, VS Code, Git, Photoshop"
              ></textarea>
            </div>
          </div>
        </div>

        <!-- Section 5: Interesses Pessoais -->
        <div
          class="form-section bg-gray-900/50 p-6 rounded-lg border border-gray-700"
        >
          <h2 class="text-xl font-semibold text-white">
            üé® Interesses Pessoais
          </h2>
          <div class="space-y-4 mt-4">
            <div>
              <label
                for="hobbies"
                class="text-sm font-medium text-gray-400 mb-1"
                >Hobbies e passatempos</label
              >
              <input
                type="text"
                id="hobbies"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: Ler, ver s√©ries, caminhadas, fotografia"
              />
            </div>
            <div>
              <label
                for="favoritos"
                class="text-sm font-medium text-gray-400 mb-1"
                >M√∫sica, filmes, livros ou jogos favoritos</label
              >
              <textarea
                id="favoritos"
                rows="2"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: Livro - '1984', Filme - 'O Padrinho', Jogo - 'The Witcher 3'"
              ></textarea>
            </div>
            <div>
              <label
                for="temas_conversa"
                class="text-sm font-medium text-gray-400 mb-1"
                >Temas que gosta de explorar em conversas</label
              >
              <textarea
                id="temas_conversa"
                rows="2"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: Viagens, futuro da tecnologia, cinema, gastronomia"
              ></textarea>
            </div>
          </div>
        </div>

        <!-- Section 6: Estilo de Vida -->
        <div
          class="form-section bg-gray-900/50 p-6 rounded-lg border border-gray-700"
        >
          <h2 class="text-xl font-semibold text-white">üåç Estilo de Vida</h2>
          <div class="space-y-4 mt-4">
            <div>
              <label for="rotina" class="text-sm font-medium text-gray-400 mb-1"
                >Rotina di√°ria (se relevante)</label
              >
              <textarea
                id="rotina"
                rows="2"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: Trabalho das 9h √†s 18h, gin√°sio ao fim do dia, leio antes de dormir"
              ></textarea>
            </div>
            <div>
              <label
                for="habitos"
                class="text-sm font-medium text-gray-400 mb-1"
                >H√°bitos importantes (ex.: sa√∫de, alimenta√ß√£o, desporto)</label
              >
              <input
                type="text"
                id="habitos"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: Corridas matinais, alimenta√ß√£o equilibrada, medita√ß√£o"
              />
            </div>
            <div>
              <label
                for="valores"
                class="text-sm font-medium text-gray-400 mb-1"
                >Valores ou causas que considera relevantes</label
              >
              <input
                type="text"
                id="valores"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: Honestidade, aprendizagem cont√≠nua, sustentabilidade"
              />
            </div>
          </div>
        </div>

        <!-- Section 7: Prefer√™ncias e Limites -->
        <div
          class="form-section bg-gray-900/50 p-6 rounded-lg border border-gray-700"
        >
          <h2 class="text-xl font-semibold text-white">
            üö´ Prefer√™ncias e Limites
          </h2>
          <div class="space-y-4 mt-4">
            <div>
              <label
                for="linguagem"
                class="text-sm font-medium text-gray-400 mb-1"
                >Tipo de linguagem que prefere</label
              >
              <input
                type="text"
                id="linguagem"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: Informal e direta, profissional, entusiasta"
              />
            </div>
            <div>
              <label
                for="nao_aprecia"
                class="text-sm font-medium text-gray-400 mb-1"
                >Coisas que n√£o aprecia em respostas</label
              >
              <textarea
                id="nao_aprecia"
                rows="2"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: Ser muito resumido, linguagem demasiado complexa, falta de exemplos pr√°ticos"
              ></textarea>
            </div>
            <div>
              <label
                for="limites_pessoais"
                class="text-sm font-medium text-gray-400 mb-1"
                >Limites pessoais</label
              >
              <textarea
                id="limites_pessoais"
                rows="2"
                class="w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                placeholder="Ex: N√£o dar conselhos financeiros, n√£o fazer spoilers de filmes, etc."
              ></textarea>
            </div>
          </div>
        </div>

        <!-- Generate Button -->
        <div class="text-center pt-4">
          <button
            id="generate-btn"
            class="bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-500/50 transition-all duration-300 transform hover:scale-105"
          >
            Gerar Meu Perfil
          </button>
        </div>
      </div>

      <!-- Result Container -->
      <div
        id="result-container"
        class="hidden opacity-0 p-6 bg-gray-700 rounded-lg border border-gray-600 space-y-4"
      >
        <div class="flex justify-between items-center">
          <h2 class="text-2xl font-bold text-white">Seu Perfil Completo</h2>
          <button
            id="copy-btn"
            class="bg-gray-600 text-gray-200 font-semibold py-2 px-4 rounded-lg hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-400 transition-colors"
          >
            Copiar
          </button>
        </div>
        <p
          id="result-text"
          class="text-gray-300 leading-relaxed whitespace-pre-wrap"
        ></p>
      </div>
    </main>

    <script>
      // --- Gemini API Call Function ---
      async function callGemini(promptText, apiKey) {
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

        const schema = {
          type: "OBJECT",
          properties: {
            nome: {
              type: "STRING",
              description: "O nome ou apelido do usu√°rio.",
            },
            idade: { type: "STRING", description: "A idade ou faixa et√°ria." },
            pais: { type: "STRING", description: "O pa√≠s e regi√£o onde vive." },
            idiomas: {
              type: "STRING",
              description: "Os idiomas de prefer√™ncia.",
            },
            uso_ia: {
              type: "STRING",
              description: "O prop√≥sito de uso da IA.",
            },
            interesses_ia: {
              type: "STRING",
              description:
                "As principais √°reas de interesse relacionadas a tecnologia ou outros t√≥picos.",
            },
            limites_ia: {
              type: "STRING",
              description: "Temas ou a√ß√µes a evitar pela IA.",
            },
            formacao: {
              type: "STRING",
              description: "Forma√ß√£o acad√©mica ou t√©cnica.",
            },
            exp_tech: {
              type: "STRING",
              description: "N√≠vel de experi√™ncia em tecnologia.",
            },
            aprender: {
              type: "STRING",
              description: "√Åreas em que deseja aprender mais.",
            },
            profissao: { type: "STRING", description: "A profiss√£o atual." },
            projetos: {
              type: "STRING",
              description: "Projetos pessoais ou profissionais.",
            },
            ferramentas: {
              type: "STRING",
              description: "Ferramentas e tecnologias usadas.",
            },
            hobbies: { type: "STRING", description: "Hobbies e passatempos." },
            favoritos: {
              type: "STRING",
              description: "M√∫sica, filmes, livros ou jogos favoritos.",
            },
            temas_conversa: {
              type: "STRING",
              description: "Temas preferidos para conversas.",
            },
            rotina: {
              type: "STRING",
              description: "Descri√ß√£o da rotina di√°ria.",
            },
            habitos: {
              type: "STRING",
              description: "H√°bitos importantes (sa√∫de, desporto).",
            },
            valores: {
              type: "STRING",
              description: "Valores ou causas relevantes.",
            },
            linguagem: {
              type: "STRING",
              description: "Tipo de linguagem de conversa√ß√£o preferida.",
            },
            nao_aprecia: {
              type: "STRING",
              description: "O que n√£o aprecia em respostas.",
            },
            limites_pessoais: {
              type: "STRING",
              description: "Outros limites pessoais.",
            },
          },
        };

        const systemPrompt = `Analise o texto fornecido e extraia as informa√ß√µes para preencher um formul√°rio de perfil. Responda apenas com um objeto JSON v√°lido que siga estritamente o esquema fornecido. Se uma informa√ß√£o n√£o estiver presente no texto, deixe o campo como uma string vazia. O idioma do texto √© portugu√™s.`;

        const payload = {
          contents: [
            { parts: [{ text: `Texto a analisar: "${promptText}"` }] },
          ],
          systemInstruction: { parts: [{ text: systemPrompt }] },
          generationConfig: {
            responseMimeType: "application/json",
            responseSchema: schema,
          },
        };

        const response = await fetch(apiUrl, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload),
        });

        if (!response.ok) {
          throw new Error(`API Error: ${response.statusText}`);
        }

        const result = await response.json();
        const candidate = result.candidates?.[0];
        if (candidate && candidate.content?.parts?.[0]?.text) {
          return JSON.parse(candidate.content.parts[0].text);
        } else {
          throw new Error("Resposta da API inv√°lida ou vazia.");
        }
      }

      // --- Form Population Function ---
      function populateForm(data) {
        for (const key in data) {
          const element = document.getElementById(key);
          if (element) {
            element.value = data[key] || ""; // Ensure empty string if value is null/undefined
          }
        }
      }

      // --- Event Listeners ---
      const aiPrefillBtn = document.getElementById("ai-prefill-btn");
      const aiTextInput = document.getElementById("ai-text-input");
      const apiKeyInput = document.getElementById("api-key-input");
      const aiBtnText = document.getElementById("ai-btn-text");
      const aiBtnSpinner = document.getElementById("ai-btn-spinner");
      const aiError = document.getElementById("ai-error");

      aiPrefillBtn.addEventListener("click", async () => {
        const inputText = aiTextInput.value.trim();
        const userApiKey = apiKeyInput.value.trim();

        if (!userApiKey) {
          aiError.textContent =
            "Por favor, introduza a sua Chave de API da Google AI para continuar.";
          aiError.classList.remove("hidden");
          apiKeyInput.focus();
          return;
        }

        if (!inputText) {
          aiError.textContent =
            "Por favor, introduza um texto para ser analisado.";
          aiError.classList.remove("hidden");
          aiTextInput.focus();
          return;
        }

        // UI feedback
        aiError.classList.add("hidden");
        aiBtnText.textContent = "A processar...";
        aiBtnSpinner.classList.remove("hidden");
        aiPrefillBtn.disabled = true;

        try {
          const extractedData = await callGemini(inputText, userApiKey);
          populateForm(extractedData);
        } catch (error) {
          console.error("Erro ao preencher com IA:", error);
          aiError.textContent =
            "Ocorreu um erro. Verifique a sua chave de API ou tente novamente.";
          aiError.classList.remove("hidden");
        } finally {
          // Restore UI
          aiBtnText.textContent = "Preencher com IA";
          aiBtnSpinner.classList.add("hidden");
          aiPrefillBtn.disabled = false;
        }
      });

      // --- Existing Logic for Generating Profile Text ---
      const generateBtn = document.getElementById("generate-btn");
      const resultContainer = document.getElementById("result-container");
      const resultText = document.getElementById("result-text");
      const copyBtn = document.getElementById("copy-btn");

      const getValue = (id) => document.getElementById(id).value.trim();

      generateBtn.addEventListener("click", () => {
        let fullText = "";
        const sections = {
          dados: {
            title: "üßë‚Äçüíª Dados Pessoais e Gerais",
            content: "",
            hasContent: false,
          },
          objetivos: {
            title: "üéØ Objetivos com a IA",
            content: "",
            hasContent: false,
          },
          formacao: {
            title: "üìö Forma√ß√£o e Conhecimentos",
            content: "",
            hasContent: false,
          },
          profissao: {
            title: "üíº Profiss√£o / Projetos",
            content: "",
            hasContent: false,
          },
          interesses: {
            title: "üé® Interesses Pessoais",
            content: "",
            hasContent: false,
          },
          vida: { title: "üåç Estilo de Vida", content: "", hasContent: false },
          preferencias: {
            title: "üö´ Prefer√™ncias e Limites",
            content: "",
            hasContent: false,
          },
        };

        const addContent = (section, label, value) => {
          if (value) {
            section.content += `${label}: ${value}\n`;
            section.hasContent = true;
          }
        };

        addContent(sections.dados, "Nome", getValue("nome"));
        addContent(sections.dados, "Idade", getValue("idade"));
        addContent(sections.dados, "Pa√≠s/Regi√£o", getValue("pais"));
        addContent(sections.dados, "Idioma(s)", getValue("idiomas"));
        addContent(sections.objetivos, "Uso pretendido", getValue("uso_ia"));
        addContent(
          sections.objetivos,
          "√Åreas de interesse",
          getValue("interesses_ia")
        );
        addContent(
          sections.objetivos,
          "Limites para a IA",
          getValue("limites_ia")
        );
        addContent(sections.formacao, "Forma√ß√£o", getValue("formacao"));
        addContent(
          sections.formacao,
          "Experi√™ncia em Tech",
          getValue("exp_tech")
        );
        addContent(
          sections.formacao,
          "Quero aprender mais sobre",
          getValue("aprender")
        );
        addContent(sections.profissao, "Profiss√£o", getValue("profissao"));
        addContent(sections.profissao, "Projetos atuais", getValue("projetos"));
        addContent(
          sections.profissao,
          "Ferramentas que uso",
          getValue("ferramentas")
        );
        addContent(sections.interesses, "Hobbies", getValue("hobbies"));
        addContent(sections.interesses, "Favoritos", getValue("favoritos"));
        addContent(
          sections.interesses,
          "Temas para conversar",
          getValue("temas_conversa")
        );
        addContent(sections.vida, "Rotina", getValue("rotina"));
        addContent(sections.vida, "H√°bitos", getValue("habitos"));
        addContent(sections.vida, "Valores/Causas", getValue("valores"));
        addContent(
          sections.preferencias,
          "Linguagem preferida",
          getValue("linguagem")
        );
        addContent(
          sections.preferencias,
          "N√£o aprecio em respostas",
          getValue("nao_aprecia")
        );
        addContent(
          sections.preferencias,
          "Limites pessoais",
          getValue("limites_pessoais")
        );

        let hasAnyContent = false;
        for (const key in sections) {
          const section = sections[key];
          if (section.hasContent) {
            hasAnyContent = true;
            fullText += `--- ${section.title} ---\n${section.content}\n`;
          }
        }

        if (!hasAnyContent) {
          resultText.textContent =
            "Parece que voc√™ n√£o preencheu nenhum campo. Por favor, adicione algumas informa√ß√µes para gerar seu perfil.";
        } else {
          resultText.textContent = fullText.trim();
        }

        resultContainer.classList.remove("hidden");
        resultContainer.classList.add("fade-in");
        resultContainer.scrollIntoView({ behavior: "smooth", block: "end" });
      });

      copyBtn.addEventListener("click", () => {
        const tempTextArea = document.createElement("textarea");
        tempTextArea.value = resultText.textContent;
        document.body.appendChild(tempTextArea);
        tempTextArea.select();
        try {
          document.execCommand("copy");
          copyBtn.textContent = "Copiado!";
          setTimeout(() => {
            copyBtn.textContent = "Copiar";
          }, 2000);
        } catch (err) {
          console.error("Falha ao copiar texto: ", err);
          copyBtn.textContent = "Erro!";
          setTimeout(() => {
            copyBtn.textContent = "Copiar";
          }, 2000);
        }
        document.body.removeChild(tempTextArea);
      });
    </script>
  </body>
</html>
